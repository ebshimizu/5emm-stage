"use strict";(globalThis["webpackChunk_5e_monster_maker"]=globalThis["webpackChunk_5e_monster_maker"]||[]).push([[14],{2688:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Wt});var n=a(9835),l=a(6970);const o={class:"q-ml-sm"},s={class:"template-bar"},i={class:"q-gutter-sm row items-center no-wrap"},r={class:"text-h6"},c={class:"q-my-sm"};function d(e,t,a,d,u,m){const p=(0,n.up)("q-btn"),g=(0,n.up)("q-toolbar-title"),f=(0,n.up)("q-space"),w=(0,n.up)("template-search"),v=(0,n.up)("web-renderer-settings-button"),$=(0,n.up)("download-button"),h=(0,n.up)("q-toolbar"),_=(0,n.up)("q-header"),y=(0,n.up)("app-drawer"),b=(0,n.up)("router-view"),k=(0,n.up)("q-page-container"),D=(0,n.up)("cr-footer"),W=(0,n.up)("q-card-section"),C=(0,n.up)("generic-footer"),x=(0,n.up)("q-card"),q=(0,n.up)("q-footer"),S=(0,n.up)("q-card-actions"),A=(0,n.up)("q-dialog"),z=(0,n.up)("q-layout"),T=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(z,{view:"hHh lpR fFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{id:"main-nav",elevated:"","height-hint":"64"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu",class:"q-mr-sm",onClick:e.toggleLeftDrawer},null,8,["onClick"]),e.$q.screen.gt.xs?((0,n.wg)(),(0,n.j4)(g,{key:0,shrink:"",class:"row items-center no-wrap"},{default:(0,n.w5)((()=>[(0,n._)("span",o,(0,l.zw)(e.$t("app.name")),1)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(f),(0,n._)("div",s,[(0,n.Wm)(w)]),(0,n.Wm)(f),(0,n._)("div",i,[(0,n.Wm)(v),(0,n.Wm)(p,{round:"",flat:"",icon:"mdi-folder-open",onClick:t[0]||(t[0]=t=>e.loadFileDialog())}),(0,n.Wm)($)])])),_:1})])),_:1}),(0,n.Wm)(y,{"left-drawer-open":e.leftDrawerOpen},null,8,["left-drawer-open"]),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b)])),_:1}),(0,n.Wm)(q,{id:"footer",elevated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"full-width"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{class:"bg-blue-grey-7 no-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(D)])),_:1}),(0,n.Wm)(W,{class:"bg-grey-10 no-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(C)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(A,{modelValue:e.showDataLoad,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showDataLoad=t),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W,{class:"row items-center"},{default:(0,n.w5)((()=>[(0,n._)("div",r,(0,l.zw)(e.$t("io.dataUrl.title")),1),(0,n._)("div",c,(0,l.zw)(e.$t("io.dataUrl.loadText",[e.queryData.name])),1)])),_:1}),(0,n.Wm)(S,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{flat:"",label:e.$t("editor.load"),color:"positive",onClick:e.loadFromDataParam},null,8,["label","onClick"]),(0,n.wy)((0,n.Wm)(p,{flat:"",label:e.$t("editor.cancel"),color:"negative"},null,8,["label"]),[[T]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var u=a(499);const m={class:"cr-footer full-width q-pa-sm"},p={class:"big text-overline text-uppercase"},g={class:"text-h3 q-ml-sm"},f={class:"split"},w={class:"top"},v={class:"small text-overline"},$={class:"text-h5 q-ml-2 cr"},h={class:"bot"},_={class:"text-overline"},y={class:"text-h5 q-ml-2 cr"},b={class:"split chips text-weight-bold cursor-pointer"},k={class:"top"},D={class:"text-h6"},W={class:"text-subtitle2 text-grey-5"},C={class:"text-overline text-uppercase text-white"},x={class:"text-h6"},q={class:"text-subtitle2 text-grey-5"},S={class:"text-h6"},A={class:"text-subtitle2 text-grey-5"},z={class:"bot"},T={class:"text-h6"},M={class:"text-subtitle2 text-grey-5"},Z={class:"text-h6"},H={class:"text-subtitle2 text-grey-5"},j=(0,n.Uk)("Automatically Estimate Defensive CR");function L(e,t,a,o,s,i){const r=(0,n.up)("q-separator"),c=(0,n.up)("q-card-section"),d=(0,n.up)("q-tab"),u=(0,n.up)("q-tabs"),L=(0,n.up)("q-item-label"),U=(0,n.up)("q-avatar"),Q=(0,n.up)("q-item-section"),P=(0,n.up)("q-item"),I=(0,n.up)("q-list"),E=(0,n.up)("q-tab-panel"),R=(0,n.up)("q-tab-panels"),B=(0,n.up)("q-card"),V=(0,n.up)("q-menu"),F=(0,n.up)("q-chip"),O=(0,n.up)("menu-hover"),N=(0,n.up)("q-tooltip"),G=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("span",p,(0,l.zw)(e.$t("editor.cr.estimated")),1),(0,n._)("span",g,(0,l.zw)(e.crData.estimatedCr.value.cr),1),(0,n.Wm)(r,{class:"q-mx-sm",vertical:""}),(0,n._)("div",f,[(0,n._)("div",w,[(0,n._)("span",v,(0,l.zw)(e.$t("editor.cr.offensive")),1),(0,n._)("span",$,(0,l.zw)(e.crData.offensiveCr.value.cr),1)]),(0,n.Wm)(r),(0,n._)("div",h,[(0,n._)("span",_,(0,l.zw)(e.$t("editor.cr.defensive")),1),(0,n._)("span",y,(0,l.zw)(e.crData.defensiveCr.value.cr),1)])]),(0,n.Wm)(r,{class:"q-mx-sm",vertical:""}),(0,n._)("div",b,[(0,n._)("div",k,[(0,n.Wm)(O,null,{default:(0,n.w5)((({activatorAttr:a,menuAttr:o})=>[(0,n.Wm)(F,(0,n.dG)(a,{color:"red-10",icon:"mdi-sword-cross"}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(Math.floor(e.crData.damagePerRound.value))+" ( "+(0,l.zw)(e.crData.damageCr.value.cr)+" CR) ",1),(0,n.Wm)(V,(0,n.dG)(o,{offset:[0,2]}),{default:(0,n.w5)((()=>[(0,n.Wm)(B,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",D,(0,l.zw)(e.$t("editor.cr.avgDamage",[Math.floor(e.crData.damagePerRound.value)])),1),(0,n._)("div",W," CR "+(0,l.zw)(e.crData.damageCr.value.cr)+": "+(0,l.zw)(e.crData.damageCr.value.dprMin)+" - "+(0,l.zw)(e.crData.damageCr.value.dprMax),1)])),_:1}),(0,n.Wm)(u,{modelValue:e.dprTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dprTab=t),class:"bg-red-10",align:"justify"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.crData.actionSequence.value,((t,a)=>((0,n.wg)(),(0,n.j4)(d,{key:a,name:a,label:e.$t("editor.cr.round",[a+1])},null,8,["name","label"])))),128))])),_:1},8,["modelValue"]),(0,n.Wm)(r),(0,n.Wm)(R,{modelValue:e.dprTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dprTab=t),animated:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.crData.actionSequence.value,((t,a)=>((0,n.wg)(),(0,n.j4)(E,{key:a,name:a,style:{padding:"0px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,{header:""},{default:(0,n.w5)((()=>[(0,n._)("div",C,(0,l.zw)(e.$t("editor.cr.totalDamage",[Math.floor(t.totalDamage)])),1)])),_:2},1024),(0,n.Wm)(r,{class:"q-mb-sm"}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.actions,((t,a)=>((0,n.wg)(),(0,n.j4)(P,{key:`${t.name}-${t.type}-${a}`,class:"q-pb-md q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{color:e.crData.actionTypeColor(t.type),"font-size":"14px"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(Math.floor(t.damage)),1)])),_:2},1032,["color"])])),_:2},1024),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.name),1)])),_:2},1024),(0,n.Wm)(L,{caption:"",lines:"1"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t(`editor.cr.type.${t.type}`)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:2},1040)])),_:2},1040)])),_:1}),(0,n.Wm)(O,null,{default:(0,n.w5)((({activatorAttr:t,menuAttr:a})=>[(0,n.Wm)(F,(0,n.dG)(t,{color:e.crData.attackChipColor.value,icon:"mdi-bullseye-arrow"}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.crData.maxAttackRender.value)+" ( "+(0,l.zw)(e.crData.attackCrDelta.value)+" CR) ",1),(0,n.Wm)(V,(0,n.dG)(a,{offset:[0,2]}),{default:(0,n.w5)((()=>[(0,n.Wm)(B,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",x,(0,l.zw)(e.$t("editor.cr.maxAttack",[e.crData.maxAttackRender.value])),1),(0,n._)("div",q,(0,l.zw)(e.crData.attackCrExplain.value),1)])),_:1}),(0,n.Wm)(r,{class:"q-mb-sm"}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.crData.filteredToHitActions.value,((t,a)=>((0,n.wg)(),(0,n.j4)(P,{key:`${t.name}-${t.type}-${a}`,class:"q-pb-md q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{color:e.crData.actionTypeColor(t.type),"font-size":"14px"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.toHitRender),1)])),_:2},1032,["color"])])),_:2},1024),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.name),1)])),_:2},1024),(0,n.Wm)(L,{caption:"",lines:"1"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t(`editor.cr.type.${t.type}`)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("editor.cr.attackActionsBelowThreshold",{n:e.crData.actionsBelowThreshold.value})),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:2},1040)])),_:2},1040,["color"])])),_:1}),(0,n.Wm)(O,null,{default:(0,n.w5)((({activatorAttr:t,menuAttr:a})=>[(0,n.Wm)(F,(0,n.dG)(t,{color:e.crData.dcChipColor.value,icon:"fa-solid fa-wand-sparkles"}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.crData.maxDc.value)+" ( "+(0,l.zw)(e.crData.attackCrDelta.value)+" CR) ",1),(0,n.Wm)(V,(0,n.dG)(a,{offset:[0,2]}),{default:(0,n.w5)((()=>[(0,n.Wm)(B,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",S,(0,l.zw)(e.$t("editor.cr.maxDc",[e.crData.maxDc.value])),1),(0,n._)("div",A,(0,l.zw)(e.crData.dcCrExplain.value),1)])),_:1}),(0,n.Wm)(r,{class:"q-mb-sm"}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.crData.filteredDcActions.value,((t,a)=>((0,n.wg)(),(0,n.j4)(P,{key:`${t.name}-${t.type}-${a}`,class:"q-pb-md q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{color:e.crData.actionTypeColor(t.type),"font-size":"14px"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.save),1)])),_:2},1032,["color"])])),_:2},1024),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.name),1)])),_:2},1024),(0,n.Wm)(L,{caption:"",lines:"1"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t(`editor.cr.type.${t.type}`)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("editor.cr.dcActionsBelowThreshold",{n:e.crData.dcsBelowThreshold.value})),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:2},1040)])),_:2},1040,["color"])])),_:1})]),(0,n._)("div",z,[(0,n.Wm)(O,null,{default:(0,n.w5)((({activatorAttr:t,menuAttr:a})=>[(0,n.Wm)(F,(0,n.dG)(t,{color:"green-8",icon:"mdi-hospital"}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(Math.floor(e.crData.ehp.value))+" (CR "+(0,l.zw)(e.crData.hpCr.value.cr)+") ",1),(0,n.Wm)(V,(0,n.dG)(a,{offset:[0,2]}),{default:(0,n.w5)((()=>[(0,n.Wm)(B,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",T,(0,l.zw)(e.$t("editor.cr.ehp",[Math.floor(e.crData.ehp.value)])),1),(0,n._)("div",M," CR "+(0,l.zw)(e.crData.hpCr.value.cr)+": "+(0,l.zw)(e.crData.hpCr.value.hpMin)+" - "+(0,l.zw)(e.crData.hpCr.value.hpMax),1)])),_:1}),(0,n.Wm)(r,{class:"q-mb-sm"}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,{class:"q-pb-md q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{color:e.crData.actionTypeColor("HP"),"font-size":"14px"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.avgHp),1)])),_:1},8,["color"])])),_:1}),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("editor.cr.baseHp")),1)])),_:1})])),_:1})])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.crData.ehpModifierList.value,((t,a)=>((0,n.wg)(),(0,n.j4)(P,{key:`${t.title}-${t.type}-${a}`,class:"q-pb-md q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{color:e.crData.actionTypeColor(t.type),"font-size":"14px"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.value),1)])),_:2},1032,["color"])])),_:2},1024),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.title),1)])),_:2},1024),(0,n.Wm)(L,{caption:"",lines:"1"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.subtitle),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:2},1040)])),_:2},1040)])),_:1}),(0,n.Wm)(O,null,{default:(0,n.w5)((({activatorAttr:t,menuAttr:a})=>[(0,n.Wm)(F,(0,n.dG)(t,{color:"green-8",icon:"shield"}),{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(Math.floor(e.crData.eac.value))+" ( "+(0,l.zw)(e.crData.acCrDelta.value)+" CR) ",1),(0,n.Wm)(V,(0,n.dG)(a,{offset:[0,2]}),{default:(0,n.w5)((()=>[(0,n.Wm)(B,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",Z,(0,l.zw)(e.$t("editor.cr.eac",[Math.floor(e.crData.eac.value)])),1),(0,n._)("div",H,(0,l.zw)(e.crData.acCrExplain.value),1)])),_:1}),(0,n.Wm)(r,{class:"q-mb-sm"}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,{class:"q-pb-md q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{color:e.crData.actionTypeColor("HP"),"font-size":"14px"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.ac),1)])),_:1},8,["color"])])),_:1}),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("editor.cr.baseAc")),1)])),_:1}),e.ac<12?((0,n.wg)(),(0,n.j4)(L,{key:0,caption:"",lines:"1"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("editor.cr.baseAcLow")),1)])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.crData.eacModifierList.value,((t,a)=>((0,n.wg)(),(0,n.j4)(P,{key:`${t.title}-${t.type}-${a}`,class:"q-pb-md q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{color:e.crData.actionTypeColor(t.type),"font-size":"14px"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.value),1)])),_:2},1032,["color"])])),_:2},1024),(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.title),1)])),_:2},1024),(0,n.Wm)(L,{caption:"",lines:"1"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.subtitle),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:2},1040)])),_:2},1040)])),_:1})])]),(0,n.Wm)(r,{class:"q-mx-sm",vertical:""}),(0,n._)("div",null,[(0,n.Wm)(G,{push:"",icon:"mdi-arrow-decision-auto",color:e.monsterStore.autoEstimateDefenseCr?"positive":"dark",onClick:t[2]||(t[2]=t=>e.monsterStore.autoEstimateDefenseCr=!e.monsterStore.autoEstimateDefenseCr)},{default:(0,n.w5)((()=>[(0,n.Wm)(N,{class:"text-body2"},{default:(0,n.w5)((()=>[j])),_:1})])),_:1},8,["color"])])])}var U=a(466);function Q(e,t,a,l,o,s){return(0,n.WI)(e.$slots,"default",{activatorAttr:s.activatorAttr,menuAttr:s.menuAttr})}var P=a(899);const I={name:"QMenuHover",props:{debounceTime:{type:Number,default:50}},data(){return{menu:!1,activatorHover:!1,menuHover:!1,debounceMenu:null}},computed:{activatorAttr(){return{onMouseenter:()=>this.activatorHover=!0,onMouseleave:()=>this.activatorHover=!1}},menuAttr(){return{modelValue:this.menu,onMouseenter:()=>this.menuHover=!0,onMouseleave:()=>this.menuHover=!1}}},watch:{menuHover(){this.debounceMenu()},activatorHover(){this.debounceMenu()}},created(){this.debounceMenu=(0,P.Z)(this.checkMenu,this.debounceTime)},methods:{checkMenu(){this.menu=this.activatorHover||this.menuHover}}};var E=a(1639);const R=(0,E.Z)(I,[["render",Q]]),B=R;var V=a(2577);const F=(0,n.aZ)({name:"CrFooter",components:{MenuHover:B},setup(){const e=(0,V.B)(),t=(0,U.n)(),a=(0,u.iH)(!1),l=(0,u.iH)(0);return{crData:t,damageInfo:a,dprTab:l,monsterStore:e,avgHp:(0,n.Fl)((()=>e.avgHp)),ac:(0,n.Fl)((()=>e.AC))}}});var O=a(926),N=a(7691),G=a(6362),K=a(4458),Y=a(3190),J=a(7817),X=a(900),ee=a(9800),te=a(4106),ae=a(3246),ne=a(3115),le=a(490),oe=a(1233),se=a(1357),ie=a(8879),re=a(6858),ce=a(9984),de=a.n(ce);const ue=(0,E.Z)(F,[["render",L],["__scopeId","data-v-4096c360"]]),me=ue;de()(F,"components",{QSeparator:O.Z,QChip:N.Z,QMenu:G.Z,QCard:K.Z,QCardSection:Y.Z,QTabs:J.Z,QTab:X.Z,QTabPanels:ee.Z,QTabPanel:te.Z,QList:ae.Z,QItemLabel:ne.Z,QItem:le.Z,QItemSection:oe.Z,QAvatar:se.Z,QBtn:ie.Z,QTooltip:re.Z});var pe=a(9446),ge=a(8045);function fe(){return new Promise((e=>{const t=document.createElement("input");t.type="file",t.accept=".5emm.json",t.onchange=async t=>{t.target&&e(t.target.files?.[0])},t.click()}))}function we(e,t,a,o,s,i){const r=(0,n.up)("q-item-section"),c=(0,n.up)("q-item"),d=(0,n.up)("q-list"),u=(0,n.up)("q-menu"),m=(0,n.up)("q-btn"),p=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(m,{round:"",flat:"",icon:"download"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",onClick:t[0]||(t[0]=t=>e.save5emm())},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("io.export.default")),1)])),_:1})])),_:1})),[[p]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",onClick:t[1]||(t[1]=t=>e.saveMd())},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("io.export.md")),1)])),_:1})])),_:1})),[[p]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",onClick:t[2]||(t[2]=t=>e.saveLatex())},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("io.export.latex")),1)])),_:1})])),_:1})),[[p]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",onClick:t[3]||(t[3]=t=>e.saveTio())},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("io.export.tarrasque")),1)])),_:1})])),_:1})),[[p]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",onClick:t[4]||(t[4]=t=>e.savePng())},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("io.export.png")),1)])),_:1})])),_:1})),[[p]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",onClick:t[5]||(t[5]=t=>e.copyMd())},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("io.export.mdClip")),1)])),_:1})])),_:1})),[[p]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:"",onClick:t[6]||(t[6]=t=>e.copyLink())},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("io.export.link")),1)])),_:1})])),_:1})),[[p]])])),_:1})])),_:1})])),_:1})}var ve=a(9302),$e=a(7622),he=a(2392),_e=a(7712),ye=a(9657),be=a(4326);function ke(){const e=(0,V.B)(),t=(0,$e.i)(),{mdFormatter:a}=(0,be.R)(),{t:n}=(0,_e.QT)(),l=()=>{const n=t.traits.value,l=0===e.traits.length?"":`${n.map((e=>`> ${a(e)}`)).join("\n>\n")}\n>`;return l},o=()=>{const e=`> ${a(t.innateSpellcastingPreamble.value)}`,n=t.innateSpellcastingLists.value.map((e=>`> ${e.renderedLabel} *${e.renderedSpells}*`));return`> ${e}\n>\n${n.join("\n")}`},s=()=>{const l=[],o=e.knownSpellsOfLevel(0);o.length>0&&l.push(`> ${n("editor.spellcasting.slot.cantripLabel")} *${o.join(", ")}*  `),t.classSpellcastingSlots.value.forEach((e=>{l.push(`> ${e.renderedLabel} *${e.renderedSpells}*  `)}));const s=a(t.classSpellcastingPreamble.value);return`\n> ${s}\n>\n${l.join("\n")}`},i=()=>{if(0===t.attacks.value.length)return"";const e=t.attacks.value.map((e=>`> ${a(e)}`));return`\n${e.join("\n>\n")}\n>`},r=()=>{if(0===t.actions.value.length)return"";const e=t.actions.value.map((e=>`> ${a(e)}`));return`\n${e.join("\n>\n")}\n>`},c=()=>{if(0===t.legendaryActions.value.length)return"";const e=`> ### ${n("editor.legendary.label")}\n> ${a(t.legendaryPreamble.value)}`,l=t.legendaryActions.value.map((e=>`> ${a(e)}`));return`\n${e}\n>\n${l.join("\n>\n")}\n>`},d=()=>0===e.mythicActions.actions.length?"":`> ${a(t.mythicTrait.value)}\n>\n`,u=()=>{if(0===t.mythicActions.value.length)return"";const e=`> ### ${n("editor.mythic.label")}\n> ${a(t.mythicPreamble.value)}`,l=t.mythicActions.value,o=l.map((e=>`> ${a(e)}`));return`\n${e}\n>\n${o.join("\n>\n")}\n>`},m=()=>{if(0===t.reactions.value.length)return"";const e=t.reactions.value.map((e=>`> ${a(e)}`));return`\n> ### ${n("editor.reaction.label")}\n${e.join("\n>\n")}\n>`},p=()=>{if(0===e.lairActions.length)return"";const l=`> ### ${n("editor.lair.label")}\n> ${a(t.lairActionPreamble.value)}`,o=t.lairActions.value.map((e=>`> - ${a(e)}`));return`\n${l}\n${o.join("\n")}\n`},g=()=>{if(0===e.regionalEffects.length)return"";const l=`> ### ${n("editor.regional.label")}\n> ${t.regionalEffectPreamble.value}`,o=t.regionalEffects.value.map((e=>`> - ${a(e)}`));return`\n${l}\n${o.join("\n")}`},f=(f=!1)=>{const w={};for(const t in e.stats)w[t]={score:e.stats[t],bonus:(0,he.zy)(e.stats[t])};const v=`\n> - **${n("monster.saves")}** ${t.saves.value}`,$=0===e.skills.length?"":`\n> - **${n("monster.skills")}** ${t.skills.value}`,h=0===e.vulnerabilities.length?"":`\n> - **${n("monster.vulnerabilities")}** ${t.vulnerabilities.value}`,_=0===e.resistances.length?"":`\n> - **${n("monster.resistances")}** ${t.vulnerabilities.value}`,y=0===e.immunities.length?"":`\n> - **${n("monster.immunities")}** ${t.immunities.value}`,b=0===e.conditions.length?"":`\n> - **${n("monster.conditionImmunities")}** ${t.immunities.value}`,k=l(),D=d(),W=s(),C=o(),x=0===e.multiattacks.length?"":`\n> ***Multiattack.*** ${a(t.multiattacks.value)}\n>`,q=i(),S=r(),A=c(),z=u(),T=m(),M=p(),Z=g();return`___${f?"\n___":""}\n> ## ${e.name}\n>*${e.size} ${e.type}, ${e.alignment}*\n> ___\n> - **${n("monster.armorClass")}** ${e.AC} ${""===e.ACType?"":`(${e.ACType})`}\n> - **${n("monster.hp.full")}** ${(0,he.qT)(e.HP.HD,e.HP.type)+e.HP.modifier} (${e.HP.HD}d${e.HP.type}${(0,he.Ed)(e.HP.modifier)})\n> - **${n("monster.movement.speed")}** ${e.speeds.map((e=>`${e.speed} ft. ${e.type}${""===e.note?"":e.note}`)).join(", ")}\n>___\n>|STR|DEX|CON|INT|WIS|CHA|\n>|:---:|:---:|:---:|:---:|:---:|:---:|\n>|${w.STR.score} (${w.STR.bonus})|${w.DEX.score} (${w.DEX.bonus})|${w.CON.score} (${w.CON.bonus})|${w.INT.score} (${w.INT.bonus})|${w.WIS.score} (${w.WIS.bonus})|${w.CHA.score} (${w.CHA.bonus})|\n>___${""!==v?v:""}${$}${h}${_}${y}${b}\n> - **${n("editor.senses.label")}** ${t.senses.value}\n> - **${n("monster.languages")}** ${e.languages}\n> - **${n("monster.challenge")}** ${ye.CR[e.CR].cr} (${ye.CR[e.CR].xp.toLocaleString()})\n>___\n${k}${D}\n> ### ${n("editor.action.label")}${x}${q}${S}${0===e.spellcasting.standard.length?"":`${W}\n>`}${0===e.spellcasting.atWill.length?"":`${C}\n>`}${A}${z}${T}${M}${Z}`};return{renderMarkdown:f}}var De=a(593),We=a(7491),Ce=a.n(We),xe=a(8541),qe=a.n(xe),Se=a(1817),Ae=a.n(Se),ze=a(2395);function Te(){const e=(0,V.B)(),t=(0,ze.i)(),a=(0,$e.i)(),{latexFormatter:n,processTokens:l}=(0,be.R)(),{t:o}=(0,_e.QT)(),s=()=>{const e=a.traits.value.map((e=>n(e))).join("\n");return e},i=()=>{const t=e.spellcasting;return`${n(a.innateSpellcastingPreamble.value)}\n  \\begin{DndMonsterSpells}\n    ${t.atWill.map((e=>`\\DndInnateSpellLevel${e.count>0?`[${e.count}]`:""}{${e.spells.join(", ")}}`)).join("\n    ")}\n  \\end{DndMonsterSpells}\n  `},r=()=>{const l=e.spellcasting,o=[],s=l.standard.filter((e=>0===t.allSpells[e].level));s.length>0&&o.push(`\\DndMonsterSpellLevel{${s.join(", ")}}`);for(let e=0;e<l.slots.length;e++)if(l.slots[e]>0){const a=e+1,n=l.standard.filter((e=>t.allSpells[e].level===a));if(0===n.length)continue;o.push(`\\DndMonsterSpellLevel[${a}][${l.slots[e]}]{${n.join(", ")}}`)}return`${n(a.classSpellcastingPreamble.value)}\n  \\begin{DndMonsterSpells}\n    ${o.join("\n    ")}\n  \\end{DndMonsterSpells}\n  `},c=()=>{const t=[];for(const a of e.attacks){const o="MELEE"!==a.distance,s="RANGED"!==a.distance,i="BOTH"===a.distance?"both":a.distance.toLowerCase(),r=a.kind.toLowerCase(),c=e.attackDamageModifier(a.id),d=a.alternateDamage.modifier.override?a.alternateDamage.modifier.overrideValue:(0,he.Jc)(e.stats[a.alternateDamage.modifier.stat]),u=a.additionalDamage.map((e=>`\\DndDice{${e.count}d${e.dice}} ${e.type}${e.note}`));t.push(`\\DndMonsterAttack[\n      name=${a.name},\n      distance=${i},\n      type=${r},\n      mod=${(0,he.Ed)(e.attackModifier(a.id))},\n      ${s?"":"%"}reach=${a.range.reach},\n      ${o?"":"%"}range=${a.range.standard}/${a.range.long},\n      targets=${Ae().toWords(a.targets)} target${1===a.targets?"":"s"},\n      dmg=\\DndDice{${a.damage.count}d${a.damage.dice}${(0,he.Ed)(c)}},\n      dmg-type=${a.damage.type},\n      ${0===u.length?"%":""}plus-dmg={${(0,be.l)(u,", ")}},\n      ${a.alternateDamage.active?"":"%"}or-dmg=\\DndDice{${a.alternateDamage.count}d${a.alternateDamage.dice}${(0,he.Ed)(d)}},\n      ${a.alternateDamage.active?"":"%"}or-dmg-when={${a.alternateDamage.condition}},\n      extra={${n(l(a.description,a,e,"attack"))}}\n    ]`)}return t.join("\n\n  ")},d=()=>n(a.multiattacks.value),u=()=>a.actions.value.map((e=>n(e))).join("\n  "),m=()=>{const t=n(a.legendaryPreamble.value),s=e.legendaryActions.actions.map((t=>{const a=e.legendaryAction(t.actionId);if(a){const s=t.cost>1?o("editor.legendary.renderedCost",[t.cost]):"";let i="";return"action"===a.type?i=a.action.legendaryOnly?l(a.action.description,a.action,e,"action"):l(o("presets.legendaryAction",[a.action.name]),void 0,e,"none"):"attack"===a.type&&(i=l(o("presets.legendaryAttack",[a.action.name]),void 0,e,"none")),`\\DndMonsterLegendaryAction{${a.action.name}${s}}{${n(i)}}`}}));return`\\DndMonsterSection{Legendary Actions}\n  ${t}\n  \\begin{DndMonsterLegendaryActions}\n    ${s.join("\n  ")}\n  \\end{DndMonsterLegendaryActions}`},p=()=>n(a.mythicTrait.value),g=()=>{const t=n(a.mythicPreamble.value),s=e.mythicActions.actions.map((t=>{const a=e.legendaryAction(t.actionId);if(a){const s=t.cost>1?o("editor.legendary.renderedCost",[t.cost]):"";let i="";return"action"===a.type?i=a.action.legendaryOnly?l(a.action.description,a.action,e,"action"):l(o("presets.legendaryAction",[a.action.name]),void 0,e,"none"):"attack"===a.type&&(i=l(o("presets.legendaryAttack",[a.action.name]),void 0,e,"none")),`\\DndMonsterLegendaryAction{${a.action.name}${s}}{${n(i)}}`}}));return`\\DndMonsterSection{Mythic Actions}\n  ${t}\n  \\begin{DndMonsterLegendaryActions}\n    ${s.join("\n  ")}\n  \\end{DndMonsterLegendaryActions}`},f=()=>{const e=a.reactions.value.map((e=>n(e)));return`\\DndMonsterSection{Reactions}\n    ${e.join("\n  ")}\n  `},w=()=>{const e=`\\DndMonsterSection{${o("editor.lair.label")}}\n${n(a.lairActionPreamble.value)}`,t=a.lairActions.value.map((e=>`\\item ${n(e)}`));return`${e}\n    \\begin{itemize}\n      ${t.join("\n")}\n    \\end{itemize}`},v=()=>{const e=`\\DndMonsterSection{${o("editor.regional.label")}}\n  ${n(a.regionalEffectPreamble.value)}`,t=a.regionalEffects.value.map((e=>`\\item ${n(e)}`));return`${e}\n    \\begin{itemize}\n      ${t.join("\n")}\n    \\end{itemize}`},$=(t=!1)=>{const n=a.saves.value;return`\\begin{DndMonster}[${t?"width=\\textwidth + 8pt":""}]{${e.name}}\n  ${t?"\\begin{multicols}{2}":""}\n  \\DndMonsterType{${e.size} ${e.type}, ${e.alignment}}\n  \\DndMonsterBasics[\n    armor-class = {${e.AC}${""===e.ACType?"":` (${e.ACType})`}},\n    hit-points = {\\DndDice{${e.HP.HD}d${e.HP.type}${(0,he.Ed)(e.HP.modifier)}}},\n    speed = {${a.speeds.value}}\n  ]\n\n  \\DndMonsterAbilityScores[\n    str = ${e.stats.STR},\n    dex = ${e.stats.DEX},\n    con = ${e.stats.CON},\n    int = ${e.stats.INT},\n    wis = ${e.stats.WIS},\n    cha = ${e.stats.CHA},\n  ]\n\n  \\DndMonsterDetails[\n    ${""===n?"%":""}saving-throws = {${n}},\n    ${0===e.skills.length?"%":""}skills = {${a.skills.value}},\n    ${0===e.vulnerabilities.length?"%":""}damage-vulnerabilities = {${a.vulnerabilities.value}},\n    ${0===e.resistances.length?"%":""}damage-resistances = {${a.resistances.value}},\n    ${0===e.immunities.length?"%":""}damage-immunities = {${a.immunities.value}},\n    ${0===e.conditions.length?"%":""}condition-immunities = {${a.conditions.value}},\n    senses = {${a.senses.value}},\n    languages = {${e.languages}},\n    challenge = {${ye.CR[e.CR].cr}},\n  ]\n\n  % Traits\n  ${s()}\n\n  ${e.mythicActions.actions.length>0?p():""}\n\n  % Actions\n  \\DndMonsterSection{${o("editor.action.label")}}\n  ${e.multiattacks.length>0?d():""}\n\n  ${c()}\n\n  ${u()}\n\n  % Spellcasting\n  ${e.spellcasting.atWill.length>0?i():""}\n\n  ${e.spellcasting.standard.length>0?r():""}\n\n  ${e.legendaryActions.count>0?m():""}\n\n  ${e.mythicActions.actions.length>0?g():""}\n\n  ${e.reactions.length>0?f():""}\n\n  ${e.lairActions.length>0?w():""}\n\n  ${e.regionalEffects.length>0?v():""}\n\n  ${t?"\\end{multicols}":""}\n\\end{DndMonster}`};return{renderLatex:$}}const Me={STR:"strength",DEX:"dexterity",CON:"constitution",INT:"intelligence",WIS:"wisdom",CHA:"charisma"},Ze="<i>{attack.distance}:</i> {attack.modifier} to hit, {attack.range}, {attack.targets}. <i>Hit:</i> {attack.damage}{attack.conditionalDamage}{attack.additionalDamage}. {attack.description}";function He(){const e=(0,V.B)(),t=(0,$e.i)(),{processTokens:a,stripTags:n}=(0,be.R)(),{t:l}=(0,_e.QT)(),o=e=>{const t=`${e.damage.count}d${e.damage.dice}`,a=e.additionalDamage.length>0?`+${e.additionalDamage.map((e=>`${e.count}d${e.dice}`)).join("+")}`:"";return t+a},s=()=>{const s={};s.name=e.name,s.size=e.size,s.type=e.type,s.subtype="",s.alignment=e.alignment,s.armor_class=e.AC,s.armor_type=e.ACType,s.hit_points=(0,he.qT)(e.HP.HD,e.HP.type)+e.HP.modifier,s.hit_dice=`${e.HP.HD}d${e.HP.type}${(0,he.Ed)(e.HP.modifier)}`,s.speed=e.speeds.map((e=>`${e.speed} ft. ${e.type}${""===e.note?"":e.note}`)).join(", "),s.speed_json={},e.speeds.forEach((e=>{s.speed_json[e.type??"unknown"]=e.speed}));for(const t in e.stats){s[Me[t]]=e.stats[t];const a=e.saves[t],n=`${Me[t]}_save`;a.override?s[n]=a.overrideValue:a.proficient&&(s[n]=e.defaultSaveBonus(t))}for(const t of e.skills){const a=t.skill.label.toLowerCase().replace(" ","_");t.override?s[a]=t.overrideValue:s[a]=e.defaultSkillBonus(t)}s.damage_vulnerabilities=t.vulnerabilities.value,s.damage_resistances=t.resistances.value,s.damage_immunities=t.immunities.value,s.condition_immunities=t.immunities.value,s.senses=t.senses.value,s.languages=e.languages,s.challenge_rating=ye.CR[e.CR].cr,s.special_abilities=[];for(const t of e.traits){const l=a("{trait.name}{trait.limitedUse}",t,e,"trait");s.special_abilities.push({name:l,desc:n(a(t.description,t,e,"trait")),attack_bonus:t.crAnnotation.maxModifier})}s.actions=[],e.multiattacks.length>0&&s.actions.push({name:"Multiattack",desc:n(a("{multiattack.all}. {multiattack.postscript}",e.multiattacks,e,"multiattack")),attack_bonus:0});for(const t of e.attacks)s.actions.push({name:t.name,desc:n(a(Ze,t,e,"attack")),attack_bonus:e.attackModifier(t.id),damage_dice:o(t),damage_bonus:e.attackDamageModifier(t.id)});const i=e.actions.filter((e=>!e.legendaryOnly));for(const t of i){const l=n(a("{action.name}{action.limitedUse}",t,e,"action"));s.actions.push({name:l,desc:n(a(t.description,t,e,"action")),attack_bonus:t.crAnnotation.maxModifier})}if(e.legendaryActions.actions.length>0){s.legendary_desc=t.legendaryPreamble.value,s.legendary_actions=[];for(const t of e.legendaryActions.actions){const o=e.legendaryAction(t.actionId);if(o){const i=t.cost>1?l("editor.legendary.renderedCost",[t.cost]):"";let r="";"action"===o.type?r=o.action.legendaryOnly?a(o.action.description,o.action,e,"action"):a(l("presets.legendaryAction",[o.action.name]),void 0,e,"none"):"attack"===o.type&&(r=a(l("presets.legendaryAttack",[o.action.name]),void 0,e,"none")),s.legendary_actions.push({name:o.action.name+i,desc:n(r),attack_bonus:0})}}}const r=e.spellcasting;if(r.standard.length>0){const a=[],o=e.knownSpellsOfLevel(0);o.length>0&&a.push(`> ${l("editor.spellcasting.slot.cantripLabel")} *${o.join(", ")}*  `),t.classSpellcastingSlots.value.forEach((e=>{a.push(`${e.renderedLabel} ${e.renderedSpells}`)}));const i=t.classSpellcastingPreamble.value,r=`${i}\n• ${a.join("\n• ")}`;s.special_abilities.push({name:l("editor.spellcasting.class.label"),desc:n(r),attack_bonus:0})}if(r.atWill.length>0){const e=t.innateSpellcastingLists.value.join("\n• ");s.special_abilities.push({name:l("editor.spellcasting.innate.label"),desc:n(`${t.innateSpellcastingPreamble.value}\n• ${e}`),attack_bonus:0})}const c=e.spellcasting.standard;for(const t of e.spellcasting.atWill)c.push(...t.spells);if(c.length>0&&(s.spellList=c),e.reactions.length>0){s.reactions=[];for(const t of e.reactions)s.reactions.push({name:t.name,desc:n(a(t.description,void 0,e,"none")),attack_bonus:0})}return s.group="Custom (5e Monster Maker)",JSON.stringify(s)};return{renderTarrasqueJson:s}}var je=a(2963),Le=a(8645);const Ue=(0,n.aZ)({name:"DownloadButton",setup(){const e=(0,V.B)(),t=(0,ve.Z)(),{t:a}=(0,_e.QT)(),{renderMarkdown:n}=ke(),{renderLatex:l}=Te(),{renderTarrasqueJson:o}=He(),s=je("lzma"),i=(0,Le.E)(),r=async e=>{const t=await fetch("https://tinyurl.com/api-create.php?url="+encodeURIComponent(e)),a=await t.text();return a},c=()=>{try{(0,De.A)(e.$state,`${e.name}.5emm.json`)}catch(n){console.error(n),t.notify({message:a("io.error.json",[n]),type:"negative"})}},d=()=>{try{(0,De.L)(n(2===i.statBlockColumns),`${e.name}.md`,"text/markdown")}catch(l){console.error(l),t.notify({message:a("io.error.md",[l]),type:"negative"})}},u=()=>{try{Ce()(n(2===i.statBlockColumns)),t.notify({message:a("io.copyMd"),type:"positive"})}catch(e){console.error(e),t.notify({message:a("io.error.md",[e]),type:"negative"})}},m=()=>{(0,De.L)(l(2===i.statBlockColumns),`${e.name}.tex`,"text/latex")},p=()=>{(0,De.L)(o(),`${e.name}.tio.json`,"application/json")},g=()=>{const t=document.getElementById("renderer");console.log(t),null!=t&&qe().toBlob(t).then((function(t){(0,De.L)(t,`${e.name}.png`,"image/png")}))},f=async()=>{try{const n=await s.compress(JSON.stringify(e.$state)),l=`${window.location.origin}${window.location.pathname}#/?data=${n}`;try{const e=await r(l);Ce()(e),t.notify({message:"Copied Sharable Link to Clipboard",type:"positive"})}catch(a){t.notify({message:"Copied long link to Clipboard (unable to shorten)",type:"warning"}),console.log(a),Ce()(l)}}catch(a){t.notify({message:"Error encoding url. Check console for details.",type:"negative"}),console.log(a)}};return{save5emm:c,saveMd:d,copyMd:u,saveLatex:m,saveTio:p,savePng:g,copyLink:f}}});var Qe=a(2146);const Pe=(0,E.Z)(Ue,[["render",we]]),Ie=Pe;de()(Ue,"components",{QBtn:ie.Z,QMenu:G.Z,QList:ae.Z,QItem:le.Z,QItemSection:oe.Z}),de()(Ue,"directives",{ClosePopup:Qe.Z});var Ee=a(8339);const Re={class:"row no-wrap q-pa-md"},Be={class:"row"},Ve={class:"text-h6 q-mb-md col-12"},Fe={class:"col-12 flex items-center"},Oe={class:"text-body1 q-mr-md"};function Ne(e,t,a,o,s,i){const r=(0,n.up)("q-btn-toggle"),c=(0,n.up)("q-toggle"),d=(0,n.up)("q-menu"),u=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.j4)(u,{round:"",flat:"",icon:"settings"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{style:{width:"300px"}},{default:(0,n.w5)((()=>[(0,n._)("div",Re,[(0,n._)("div",Be,[(0,n._)("div",Ve,(0,l.zw)(e.$t("editor.renderSettings")),1),(0,n._)("div",Fe,[(0,n._)("div",Oe,(0,l.zw)(e.$t("editor.columns")),1),(0,n.Wm)(r,{modelValue:e.editorStore.statBlockColumns,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editorStore.statBlockColumns=t),label:"Columns",options:[{label:"One",value:1},{label:"Two",value:2}]},null,8,["modelValue"])]),(0,n.Wm)(c,{modelValue:e.monsterStore.useArticleInToken,"onUpdate:modelValue":t[1]||(t[1]=t=>e.monsterStore.useArticleInToken=t),class:"col-12",label:"Use 'The' in NAME token"},null,8,["modelValue"])])])])),_:1})])),_:1})}const Ge=(0,n.aZ)({name:"WebRendererSettingsButton",setup(){const e=(0,V.B)(),t=(0,Le.E)();return{monsterStore:e,editorStore:t}}});var Ke=a(1389),Ye=a(3175);const Je=(0,E.Z)(Ge,[["render",Ne]]),Xe=Je;de()(Ge,"components",{QBtn:ie.Z,QMenu:G.Z,QBtnToggle:Ke.Z,QToggle:Ye.Z});var et=a(3882);function tt(){const{t:e}=(0,_e.QT)(),t=(0,ve.Z)(),a=(0,ze.i)();if(null!=localStorage.getItem("app.customSpells")&&t.notify({message:e("io.update.v1Spells"),multiLine:!0,group:!1,icon:"update",color:"dark",timeout:0,actions:[{label:e("io.update.v1SpellsDownload"),color:"white",noDismiss:!0,handler:()=>{(0,De.L)(localStorage.getItem("app.customSpells"),"v1-spells.5emms.json","application/json")}},{label:"Update",color:"green",handler:()=>{try{a.updateFromV1(),t.notify({message:e("io.update.v1SpellsOk"),type:"positive"})}catch(n){t.notify({message:e("io.update.v1SpellsError",[n]),type:"negative",timeout:0,multiLine:!0,actions:[{label:e("editor.ok"),color:"white"}]})}}}]}),null!=localStorage.getItem("app.customTemplates")){const a=(0,et.Z)();t.notify({message:e("io.update.v1Templates"),multiLine:!0,group:!1,icon:"update",color:"dark",timeout:0,actions:[{label:e("io.update.v1TemplatesDownload"),color:"white",noDismiss:!0,handler:()=>{(0,De.L)(localStorage.getItem("app.customTemplates"),"v1-templates.5emmt.json","application/json")}},{label:"Update",color:"green",handler:()=>{try{a.updateFromV1(),t.notify({message:e("io.update.v1TemplatesOk"),type:"positive"})}catch(n){t.notify({message:e("io.update.v1TemplatesError",[n]),type:"negative",timeout:0,multiLine:!0,actions:[{label:e("editor.ok"),color:"white"}]})}}}]})}}var at=a(2881);function nt(e,t,a,o,s,i){const r=(0,n.up)("q-icon"),c=(0,n.up)("q-item-section"),d=(0,n.up)("q-item-label"),u=(0,n.up)("q-badge"),m=(0,n.up)("q-item"),p=(0,n.up)("q-select");return(0,n.wg)(),(0,n.j4)(p,{ref:"templateRef","model-value":e.search,options:e.filteredTemplateOptions,class:"template-search",dense:"",standout:"","option-value":"templateName","option-label":"templateName","emit-value":"",clearable:"","use-input":"","hide-selected":"","input-debounce":"0",behavior:"dialog",placeholder:"Search for Actions, Traits, and Attacks",onFilter:e.templateFilter,"onUpdate:modelValue":e.addTemplate,onInputValue:e.checkPopupStatus},{option:(0,n.w5)((t=>[(0,n.Wm)(m,(0,l.vs)((0,n.F4)(t.itemProps)),{default:(0,n.w5)((()=>[(0,n.Wm)(c,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{name:""===t.opt.icon?e.defaultIcon[t.opt.type]:t.opt.icon},null,8,["name"])])),_:2},1024),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.opt.templateName),1)])),_:2},1024),(0,n.Wm)(d,{lines:"1",caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.templateStore.allTemplateSubtitles[t.opt.templateName]),1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(c,{side:"",top:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:e.actionColor[t.opt.type]},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t(`editor.template.type.${t.opt.type}`)),1)])),_:2},1032,["color"])])),_:2},1024)])),_:2},1040)])),_:1},8,["model-value","options","onFilter","onUpdate:modelValue","onInputValue"])}var lt=a(3255),ot=a(4409),st=a.n(ot),it=a(9423);const rt=(0,n.aZ)({name:"TemplateSearch",setup(){const e=(0,u.iH)(""),{t}=(0,_e.QT)(),a=(0,ve.Z)(),l=(0,u.iH)(),o=(0,et.Z)(),s=(0,n.Fl)((()=>o.allTemplateOptions)),i=(0,u.iH)(s.value),r=(0,lt._v)(s,i),c=e=>{if(null!=e){const n=o.applyTemplate(e);n?a.notify({message:t("editor.template.applied",[st().capitalize(e)]),type:"positive"}):a.notify({message:t("editor.template.failed",[st().capitalize(e)]),type:"negative"})}},d=()=>{l.value&&l.value.showPopup()};return{search:e,templateStore:o,addTemplate:c,filteredTemplateOptions:i,templateFilter:r,templateRef:l,actionColor:U.z,checkPopupStatus:d,defaultIcon:it.M}}});var ct=a(6384),dt=a(2857),ut=a(990);const mt=(0,E.Z)(rt,[["render",nt],["__scopeId","data-v-1fe567b1"]]),pt=mt;de()(rt,"components",{QSelect:ct.Z,QItem:le.Z,QItemSection:oe.Z,QIcon:dt.Z,QItemLabel:ne.Z,QBadge:ut.Z});const gt=(0,n.aZ)({name:"MainLayout",components:{AppDrawer:at.Z,CrFooter:me,GenericFooter:pe.Z,DownloadButton:Ie,WebRendererSettingsButton:Xe,TemplateSearch:pt},setup(){const e=(0,u.iH)(!1),t=(0,Ee.yj)(),a=je("lzma"),n=(0,ve.Z)(),{loadMonster:l}=(0,ge.T)();tt();const{loadFile:o}=(0,ge.T)(),s=async()=>{const e=await fe();e&&o(e)},i=null!=t.query.data,r=(0,u.iH)(!1),c=(0,u.iH)({}),d=async()=>{try{const e=await a.decompress(t.query.data),n=JSON.parse(e);c.value=n,r.value=!0}catch(e){n.notify({message:"Invalid data parameter",type:"negative"}),t.query.data=""}};i&&d();const m=()=>{i&&l(c.value),r.value=!1};return{toggleLeftDrawer(){e.value=!e.value},loadFileDialog:s,dataParamFound:i,showDataLoad:r,queryData:c,loadFromDataParam:m,leftDrawerOpen:e}}});var ft=a(7605),wt=a(6602),vt=a(1663),$t=a(1973),ht=a(136),_t=a(2133),yt=a(9860),bt=a(2074),kt=a(1821);const Dt=(0,E.Z)(gt,[["render",d]]),Wt=Dt;de()(gt,"components",{QLayout:ft.Z,QHeader:wt.Z,QToolbar:vt.Z,QBtn:ie.Z,QToolbarTitle:$t.Z,QSpace:ht.Z,QPageContainer:_t.Z,QFooter:yt.Z,QCard:K.Z,QCardSection:Y.Z,QDialog:bt.Z,QCardActions:kt.Z}),de()(gt,"directives",{ClosePopup:Qe.Z})}}]);